nohup: ignoring input
2024-10-29:18:27:49,624 INFO     [__main__.py:279] Verbosity set to INFO
2024-10-29:18:27:56,313 INFO     [__init__.py:459] The tag 'arc_ca' is already registered as a group, this tag will not be registered. This may affect tasks you want to call.
2024-10-29:18:27:56,321 INFO     [__init__.py:459] The tag 'arc_ca' is already registered as a group, this tag will not be registered. This may affect tasks you want to call.
2024-10-29:18:27:59,890 INFO     [__main__.py:376] Selected Tasks: ['medmcqa']
2024-10-29:18:27:59,893 INFO     [evaluator.py:164] Setting random seed to 0 | Setting numpy seed to 1234 | Setting torch manual seed to 1234 | Setting fewshot manual seed to 1234
2024-10-29:18:27:59,893 INFO     [evaluator.py:201] Initializing hf model, with arguments: {'pretrained': 'epfl-llm/meditron-7b', 'dtype': 'float16', 'low_cpu_mem_usage': True, 'trust_remote_code': True, 'peft': 'JesseLiu/oneround_meditron_7b'}
2024-10-29:18:28:00,127 WARNING  [other.py:349] Detected kernel version 5.4.0, which is below the recommended minimum of 5.5.0; this can cause the process to hang. It is recommended to upgrade the kernel to the minimum version or higher.
2024-10-29:18:28:00,128 INFO     [huggingface.py:129] Using device 'cuda'
2024-10-29:18:28:00,207 INFO     [huggingface.py:481] Using model type 'default'
2024-10-29:18:28:00,348 INFO     [huggingface.py:365] Model parallel was set to False, max memory was not set, and device map was set to {'': 'cuda'}
Loading checkpoint shards:   0%|          | 0/8 [00:00<?, ?it/s]Loading checkpoint shards:  12%|█▎        | 1/8 [00:01<00:08,  1.20s/it]Loading checkpoint shards:  25%|██▌       | 2/8 [00:02<00:06,  1.08s/it]Loading checkpoint shards:  38%|███▊      | 3/8 [00:03<00:05,  1.13s/it]Loading checkpoint shards:  50%|█████     | 4/8 [00:04<00:04,  1.08s/it]Loading checkpoint shards:  62%|██████▎   | 5/8 [00:05<00:03,  1.06s/it]Loading checkpoint shards:  75%|███████▌  | 6/8 [00:06<00:02,  1.03s/it]Loading checkpoint shards:  88%|████████▊ | 7/8 [00:07<00:01,  1.01s/it]Loading checkpoint shards: 100%|██████████| 8/8 [00:07<00:00,  1.32it/s]Loading checkpoint shards: 100%|██████████| 8/8 [00:07<00:00,  1.06it/s]
2024-10-29:18:28:26,494 WARNING  [evaluator.py:270] Overwriting default num_fewshot of medmcqa from None to 3
2024-10-29:18:28:26,495 WARNING  [model.py:422] model.chat_template was called with the chat_template set to False or None. Therefore no chat template will be applied. Make sure this is an intended behavior.
2024-10-29:18:28:26,497 INFO     [task.py:415] Building contexts for medmcqa on rank 0...
  0%|          | 0/4183 [00:00<?, ?it/s] 52%|█████▏    | 2168/4183 [00:00<00:00, 21677.59it/s]100%|██████████| 4183/4183 [00:00<00:00, 22033.56it/s]
2024-10-29:18:28:27,026 INFO     [evaluator.py:489] Running loglikelihood requests
Running loglikelihood requests:   0%|          | 0/16732 [00:00<?, ?it/s]Running loglikelihood requests:   0%|          | 1/16732 [00:44<206:57:52, 44.53s/it]Running loglikelihood requests:   1%|          | 129/16732 [00:47<1:13:46,  3.75it/s]Running loglikelihood requests:   2%|▏         | 257/16732 [00:50<33:50,  8.11it/s]  Running loglikelihood requests:   2%|▏         | 385/16732 [00:53<20:58, 12.99it/s]Running loglikelihood requests:   3%|▎         | 513/16732 [00:55<14:49, 18.24it/s]Running loglikelihood requests:   4%|▍         | 641/16732 [00:58<11:22, 23.58it/s]Running loglikelihood requests:   5%|▍         | 769/16732 [01:01<09:15, 28.73it/s]Running loglikelihood requests:   5%|▌         | 897/16732 [01:03<07:53, 33.46it/s]Running loglikelihood requests:   6%|▌         | 1025/16732 [01:06<06:56, 37.69it/s]Running loglikelihood requests:   7%|▋         | 1153/16732 [01:08<06:15, 41.52it/s]Running loglikelihood requests:   8%|▊         | 1281/16732 [01:10<05:45, 44.77it/s]Running loglikelihood requests:   8%|▊         | 1409/16732 [01:13<05:23, 47.43it/s]Running loglikelihood requests:   9%|▉         | 1537/16732 [01:15<05:06, 49.65it/s]Running loglikelihood requests:  10%|▉         | 1665/16732 [01:17<04:52, 51.56it/s]Running loglikelihood requests:  11%|█         | 1793/16732 [01:20<04:41, 53.00it/s]Running loglikelihood requests:  11%|█▏        | 1921/16732 [01:22<04:33, 54.21it/s]Running loglikelihood requests:  12%|█▏        | 2049/16732 [01:24<04:26, 55.20it/s]Running loglikelihood requests:  13%|█▎        | 2177/16732 [01:26<04:19, 56.06it/s]Running loglikelihood requests:  14%|█▍        | 2305/16732 [01:28<04:14, 56.68it/s]Running loglikelihood requests:  15%|█▍        | 2433/16732 [01:31<04:10, 57.16it/s]Running loglikelihood requests:  15%|█▌        | 2561/16732 [01:33<04:06, 57.54it/s]Running loglikelihood requests:  16%|█▌        | 2689/16732 [01:35<04:01, 58.15it/s]Running loglikelihood requests:  17%|█▋        | 2817/16732 [01:37<03:57, 58.63it/s]Running loglikelihood requests:  18%|█▊        | 2945/16732 [01:39<03:53, 59.03it/s]Running loglikelihood requests:  18%|█▊        | 3073/16732 [01:41<03:50, 59.35it/s]Running loglikelihood requests:  19%|█▉        | 3201/16732 [01:43<03:46, 59.75it/s]Running loglikelihood requests:  20%|█▉        | 3329/16732 [01:46<03:43, 60.07it/s]Running loglikelihood requests:  21%|██        | 3457/16732 [01:48<03:39, 60.41it/s]Running loglikelihood requests:  21%|██▏       | 3585/16732 [01:50<03:36, 60.66it/s]Running loglikelihood requests:  22%|██▏       | 3713/16732 [01:52<03:32, 61.14it/s]Running loglikelihood requests:  23%|██▎       | 3841/16732 [01:54<03:28, 61.75it/s]Running loglikelihood requests:  24%|██▎       | 3969/16732 [01:56<03:24, 62.36it/s]Running loglikelihood requests:  24%|██▍       | 4097/16732 [01:58<03:21, 62.79it/s]Running loglikelihood requests:  25%|██▌       | 4225/16732 [02:00<03:17, 63.17it/s]Running loglikelihood requests:  26%|██▌       | 4353/16732 [02:02<03:14, 63.49it/s]Running loglikelihood requests:  27%|██▋       | 4481/16732 [02:04<03:12, 63.78it/s]Running loglikelihood requests:  28%|██▊       | 4609/16732 [02:06<03:09, 64.00it/s]Running loglikelihood requests:  28%|██▊       | 4737/16732 [02:08<03:06, 64.29it/s]Running loglikelihood requests:  29%|██▉       | 4865/16732 [02:10<03:03, 64.56it/s]Running loglikelihood requests:  30%|██▉       | 4993/16732 [02:12<03:01, 64.82it/s]Running loglikelihood requests:  31%|███       | 5121/16732 [02:14<02:57, 65.42it/s]Running loglikelihood requests:  31%|███▏      | 5249/16732 [02:16<02:54, 65.88it/s]Running loglikelihood requests:  32%|███▏      | 5377/16732 [02:17<02:51, 66.23it/s]Running loglikelihood requests:  33%|███▎      | 5505/16732 [02:19<02:48, 66.51it/s]Running loglikelihood requests:  34%|███▎      | 5633/16732 [02:21<02:45, 66.86it/s]Running loglikelihood requests:  34%|███▍      | 5761/16732 [02:23<02:43, 67.15it/s]Running loglikelihood requests:  35%|███▌      | 5889/16732 [02:25<02:40, 67.36it/s]Running loglikelihood requests:  36%|███▌      | 6017/16732 [02:27<02:38, 67.66it/s]Running loglikelihood requests:  37%|███▋      | 6145/16732 [02:29<02:35, 67.87it/s]Running loglikelihood requests:  37%|███▋      | 6273/16732 [02:31<02:33, 68.07it/s]Running loglikelihood requests:  38%|███▊      | 6401/16732 [02:32<02:31, 68.24it/s]Running loglikelihood requests:  39%|███▉      | 6529/16732 [02:34<02:29, 68.44it/s]Running loglikelihood requests:  40%|███▉      | 6657/16732 [02:36<02:26, 68.60it/s]Running loglikelihood requests:  41%|████      | 6785/16732 [02:38<02:24, 68.77it/s]Running loglikelihood requests:  41%|████▏     | 6913/16732 [02:40<02:22, 68.89it/s]Running loglikelihood requests:  42%|████▏     | 7041/16732 [02:42<02:20, 69.01it/s]Running loglikelihood requests:  43%|████▎     | 7169/16732 [02:44<02:18, 69.28it/s]Running loglikelihood requests:  44%|████▎     | 7297/16732 [02:45<02:15, 69.48it/s]Running loglikelihood requests:  44%|████▍     | 7425/16732 [02:47<02:13, 69.65it/s]Running loglikelihood requests:  45%|████▌     | 7553/16732 [02:49<02:11, 69.80it/s]Running loglikelihood requests:  46%|████▌     | 7681/16732 [02:51<02:09, 69.93it/s]Running loglikelihood requests:  47%|████▋     | 7809/16732 [02:53<02:06, 70.39it/s]Running loglikelihood requests:  47%|████▋     | 7937/16732 [02:54<02:04, 70.74it/s]Running loglikelihood requests:  48%|████▊     | 8065/16732 [02:56<02:02, 71.03it/s]Running loglikelihood requests:  49%|████▉     | 8193/16732 [02:58<01:59, 71.26it/s]Running loglikelihood requests:  50%|████▉     | 8321/16732 [03:00<01:57, 71.41it/s]Running loglikelihood requests:  50%|█████     | 8449/16732 [03:02<01:55, 71.69it/s]Running loglikelihood requests:  51%|█████▏    | 8577/16732 [03:03<01:53, 71.94it/s]Running loglikelihood requests:  52%|█████▏    | 8705/16732 [03:05<01:51, 72.15it/s]Running loglikelihood requests:  53%|█████▎    | 8833/16732 [03:07<01:49, 72.32it/s]Running loglikelihood requests:  54%|█████▎    | 8961/16732 [03:09<01:47, 72.45it/s]Running loglikelihood requests:  54%|█████▍    | 9089/16732 [03:10<01:45, 72.69it/s]Running loglikelihood requests:  55%|█████▌    | 9217/16732 [03:12<01:43, 72.87it/s]Running loglikelihood requests:  56%|█████▌    | 9345/16732 [03:14<01:41, 73.04it/s]Running loglikelihood requests:  57%|█████▋    | 9473/16732 [03:16<01:39, 73.20it/s]Running loglikelihood requests:  57%|█████▋    | 9601/16732 [03:17<01:37, 73.50it/s]Running loglikelihood requests:  58%|█████▊    | 9729/16732 [03:19<01:34, 73.73it/s]Running loglikelihood requests:  59%|█████▉    | 9857/16732 [03:21<01:33, 73.87it/s]Running loglikelihood requests:  60%|█████▉    | 9985/16732 [03:23<01:31, 74.00it/s]Running loglikelihood requests:  60%|██████    | 10113/16732 [03:24<01:29, 74.14it/s]Running loglikelihood requests:  61%|██████    | 10241/16732 [03:26<01:27, 74.21it/s]Running loglikelihood requests:  62%|██████▏   | 10369/16732 [03:28<01:25, 74.48it/s]Running loglikelihood requests:  63%|██████▎   | 10497/16732 [03:29<01:23, 74.68it/s]Running loglikelihood requests:  64%|██████▎   | 10625/16732 [03:31<01:21, 74.91it/s]Running loglikelihood requests:  64%|██████▍   | 10753/16732 [03:33<01:19, 75.07it/s]Running loglikelihood requests:  65%|██████▌   | 10881/16732 [03:34<01:17, 75.52it/s]Running loglikelihood requests:  66%|██████▌   | 11009/16732 [03:36<01:15, 75.81it/s]Running loglikelihood requests:  67%|██████▋   | 11137/16732 [03:38<01:13, 76.07it/s]Running loglikelihood requests:  67%|██████▋   | 11265/16732 [03:39<01:11, 76.29it/s]Running loglikelihood requests:  68%|██████▊   | 11393/16732 [03:41<01:09, 76.47it/s]Running loglikelihood requests:  69%|██████▉   | 11521/16732 [03:43<01:08, 76.55it/s]Running loglikelihood requests:  70%|██████▉   | 11649/16732 [03:44<01:06, 76.80it/s]Running loglikelihood requests:  70%|███████   | 11777/16732 [03:46<01:04, 77.00it/s]Running loglikelihood requests:  71%|███████   | 11905/16732 [03:48<01:02, 77.11it/s]Running loglikelihood requests:  72%|███████▏  | 12033/16732 [03:49<01:00, 77.26it/s]Running loglikelihood requests:  73%|███████▎  | 12161/16732 [03:51<00:59, 77.39it/s]Running loglikelihood requests:  73%|███████▎  | 12289/16732 [03:53<00:57, 77.78it/s]Running loglikelihood requests:  74%|███████▍  | 12417/16732 [03:54<00:55, 78.05it/s]Running loglikelihood requests:  75%|███████▍  | 12545/16732 [03:56<00:53, 78.29it/s]Running loglikelihood requests:  76%|███████▌  | 12673/16732 [03:58<00:51, 78.50it/s]Running loglikelihood requests:  77%|███████▋  | 12801/16732 [03:59<00:49, 78.69it/s]Running loglikelihood requests:  77%|███████▋  | 12929/16732 [04:01<00:48, 78.80it/s]Running loglikelihood requests:  78%|███████▊  | 13057/16732 [04:02<00:46, 79.03it/s]Running loglikelihood requests:  79%|███████▉  | 13185/16732 [04:04<00:44, 79.20it/s]Running loglikelihood requests:  80%|███████▉  | 13313/16732 [04:06<00:43, 79.35it/s]Running loglikelihood requests:  80%|████████  | 13441/16732 [04:07<00:41, 79.46it/s]Running loglikelihood requests:  81%|████████  | 13569/16732 [04:09<00:39, 79.59it/s]Running loglikelihood requests:  82%|████████▏ | 13697/16732 [04:10<00:38, 79.68it/s]Running loglikelihood requests:  83%|████████▎ | 13825/16732 [04:12<00:36, 80.24it/s]Running loglikelihood requests:  83%|████████▎ | 13953/16732 [04:14<00:34, 80.70it/s]Running loglikelihood requests:  84%|████████▍ | 14081/16732 [04:15<00:32, 81.05it/s]Running loglikelihood requests:  85%|████████▍ | 14209/16732 [04:17<00:31, 81.37it/s]Running loglikelihood requests:  86%|████████▌ | 14337/16732 [04:18<00:29, 81.85it/s]Running loglikelihood requests:  86%|████████▋ | 14465/16732 [04:20<00:27, 82.19it/s]Running loglikelihood requests:  87%|████████▋ | 14593/16732 [04:21<00:25, 82.51it/s]Running loglikelihood requests:  88%|████████▊ | 14721/16732 [04:23<00:24, 82.76it/s]Running loglikelihood requests:  89%|████████▊ | 14849/16732 [04:24<00:22, 82.95it/s]Running loglikelihood requests:  90%|████████▉ | 14977/16732 [04:26<00:21, 83.45it/s]Running loglikelihood requests:  90%|█████████ | 15105/16732 [04:27<00:19, 83.82it/s]Running loglikelihood requests:  91%|█████████ | 15233/16732 [04:29<00:17, 84.20it/s]Running loglikelihood requests:  92%|█████████▏| 15361/16732 [04:30<00:16, 84.63it/s]Running loglikelihood requests:  93%|█████████▎| 15489/16732 [04:32<00:14, 84.99it/s]Running loglikelihood requests:  93%|█████████▎| 15617/16732 [04:33<00:13, 85.29it/s]Running loglikelihood requests:  94%|█████████▍| 15745/16732 [04:35<00:11, 85.51it/s]Running loglikelihood requests:  95%|█████████▍| 15873/16732 [04:36<00:09, 86.40it/s]Running loglikelihood requests:  96%|█████████▌| 16001/16732 [04:38<00:08, 87.19it/s]Running loglikelihood requests:  96%|█████████▋| 16129/16732 [04:39<00:06, 88.15it/s]Running loglikelihood requests:  97%|█████████▋| 16257/16732 [04:41<00:05, 88.95it/s]Running loglikelihood requests:  98%|█████████▊| 16385/16732 [04:42<00:03, 89.77it/s]Running loglikelihood requests:  99%|█████████▊| 16513/16732 [04:43<00:02, 90.71it/s]Running loglikelihood requests:  99%|█████████▉| 16641/16732 [04:44<00:00, 100.37it/s]Running loglikelihood requests: 100%|██████████| 16732/16732 [04:44<00:00, 58.76it/s] 
2024-10-29:18:33:28,144 INFO     [evaluation_tracker.py:269] Output path not provided, skipping saving results aggregated
Passed argument batch_size = auto:1. Detecting largest batch size
Determined largest batch size: 32
hf (pretrained=epfl-llm/meditron-7b,dtype=float16,low_cpu_mem_usage=True,trust_remote_code=True,peft=JesseLiu/oneround_meditron_7b), gen_kwargs: (None), limit: None, num_fewshot: 3, batch_size: auto (32)
| Tasks |Version|Filter|n-shot| Metric |   |Value |   |Stderr|
|-------|-------|------|-----:|--------|---|-----:|---|-----:|
|medmcqa|Yaml   |none  |     3|acc     |↑  |0.3507|±  |0.0074|
|       |       |none  |     3|acc_norm|↑  |0.3507|±  |0.0074|

